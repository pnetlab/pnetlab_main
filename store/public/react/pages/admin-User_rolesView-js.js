(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{208:function(e,t,n){var a=n(219);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(19)(a,r);a.locals&&(e.exports=a.locals)},219:function(e,t,n){(t=e.exports=n(18)(!1)).push([e.i,".input_item {\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 10px;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n}\n\n.input_item {\n  padding: 5px;\n  width: 100%;\n}\n\n.input_item:hover .input_item_text {\n  font-weight: bold;\n}\n\n.input_item_input {\n  padding: 5px;\n  border-radius: 4px;\n  border: solid thin #0d274d;\n  width: 100%;\n}",""]),t.locals={font_family:'"Helvetica Neue", Helvetica, Arial, sans-serif',font_size:"12px",font_color:"#333",primary_color:"#0d274d",dark_color:"#0d274d",light_color:"#0d274d",menu_top:"60px",menu_left:"0px"}},634:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(521),i=n(522),l=n(95),s=n(91),u=n(92),c=(n(209),n(597),n(523)),d=n(598),p=n(524),f=n(93),_=n(94),m=n(729),E=n(6);n(208);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e){return(R="function"==typeof Symbol&&"symbol"===b(Symbol.iterator)?function(e){return b(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":b(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e,n){var a,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(r=!(i=g(t).call(this,e,n))||"object"!==R(i)&&"function"!=typeof i?S(o):i).id=makeId(),r.table=r.context,r.table.children.FuncAddRole=S(r),r.state={permissions:(a={},h(a,USER_PER_DEL_FOLDER,!1),h(a,USER_PER_ADD_FOLDER,!1),h(a,USER_PER_EDIT_FOLDER,!1),h(a,USER_PER_DEL_LAB,!1),h(a,USER_PER_ADD_LAB,!1),h(a,USER_PER_IMPORT_LAB,!1),h(a,USER_PER_EXPORT_LAB,!1),h(a,USER_PER_MOVE_LAB,!1),h(a,USER_PER_CLONE_LAB,!1),h(a,USER_PER_RENAME_LAB,!1),a),action:"add"},r.role_id=null,r}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(a=[{key:"modal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";"hide"==e?$("#file_mng_modal"+this.id).modal("hide"):$("#file_mng_modal"+this.id).modal()}},{key:"setRoleID",value:function(e){null!=e&&""!=e?(this.role_id=e,this.loadRole(),this.setState({action:"edit"})):(this.setState({action:"add"}),this.nameInput.setValue(""))}},{key:"render",value:function(){var e,t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal fade",id:"file_mng_modal"+this.id},r.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered",style:{maxWidth:"90%"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",null,"add"==this.state.action?lang("Add Role"):lang("Edit Role")),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×")),r.a.createElement("div",{className:"modal-body",style:{textAlign:"initial"}},r.a.createElement("div",{style:{padding:7}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",null,r.a.createElement("strong",null,lang("Name")),r.a.createElement(E.a,{className:"input_item_input",ref:function(e){return t.nameInput=e},struct:(e={},h(e,INPUT_TYPE,"text"),h(e,INPUT_NULL,!1),e)})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null,lang("Workspace")),r.a.createElement("p",null,lang("role_workspace_des")),r.a.createElement(m.a,{ref:function(e){return t.workspaceInput=e},except:["Your labs from PNETLab Store"],link:"/store/public/admin/default/folder",folder:"/opt/unetlab/labs"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null,lang("Note")),r.a.createElement(E.a,{className:"input_item_input",ref:function(e){return t.noteInput=e},struct:h({},INPUT_TYPE,"textarea")}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("strong",null,lang("Permission")),Object.keys(this.state.permissions).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("label",{className:"box_flex"},r.a.createElement("input",{style:{margin:"5px 10px"},type:"checkbox",checked:t.state.permissions[e],onChange:function(n){var a=t.state.permissions;a[e]=n.target.checked,t.setState({permissions:a})}}),lang(e)))})),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("strong",null,lang("CPU Limit")," (%)"),r.a.createElement(E.a,{max:"95",min:"1",step:"1",className:"input_item_input",ref:function(e){return t.cpuLimitInput=e},struct:h({},INPUT_TYPE,"number")})),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("strong",null,lang("RAM Limit")," (%)"),r.a.createElement(E.a,{max:"95",min:"1",step:"1",className:"input_item_input",ref:function(e){return t.ramLimitInput=e},struct:h({},INPUT_TYPE,"number")})),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("strong",null,lang("Hard disk Limit")," (MB)"),r.a.createElement(E.a,{className:"input_item_input",ref:function(e){return t.hddLimitInput=e},struct:h({},INPUT_TYPE,"number")})),r.a.createElement("div",null,r.a.createElement("i",null,r.a.createElement("span",{style:{textDecoration:"underline"}},lang("Note"),":")," ",lang("limit_note")))))),r.a.createElement("div",{className:"modal-footer"},"add"==this.state.action?r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){t.addRole()}},lang("Add")):r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){t.editRole()}},lang("Save")),r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},lang("Cancel"))))))))}},{key:"loadRole",value:function(){var e=this;if(null!=this.role_id)return App.loading(!0),axios.request({url:"/store/public/admin/user_roles/getRoleWithPermission",method:"post",data:h({},USER_ROLE_ID,this.role_id)}).then((function(t){if(t=t.data,App.loading(!1),t.result){var n=t.data;e.nameInput.setValue(n[USER_ROLE_NAME]),e.noteInput.setValue(n[USER_ROLE_NOTE]),e.cpuLimitInput.setValue(n[USER_ROLE_CPU]),e.ramLimitInput.setValue(n[USER_ROLE_RAM]),e.hddLimitInput.setValue(n[USER_ROLE_HDD]),e.workspaceInput.setWorkSpace(n[USER_ROLE_WORKSPACE]);var a=e.state.permissions,r=function(e){void 0!==n[USER_PERMISSION_TABLE].find((function(t){return t[USER_PER_NAME]==e}))?a[e]=!0:a[e]=!1};for(var o in a)r(o);e.setState({permissions:a})}else error_handle(t)})).catch((function(e){App.loading(!1),error_handle(e)}))}},{key:"addRole",value:function(){var e,t=this,n=this.noteInput.getValue(),a=this.nameInput.getValue();if(!1!==a){var r=this.workspaceInput.getWorkSpace();""==r&&(r="/");var o=this.ramLimitInput.getValue(),i=this.cpuLimitInput.getValue(),l=this.hddLimitInput.getValue();if(!1!==o&&!1!==i&&!1!==l){var s=[(e={},h(e,USER_ROLE_NAME,a),h(e,USER_ROLE_WORKSPACE,r),h(e,USER_ROLE_NOTE,n),h(e,USER_ROLE_RAM,o),h(e,USER_ROLE_CPU,i),h(e,USER_ROLE_HDD,l),e)];this.table.addRow(s).then((function(e){if(e.result){var n=e.data;return t.addPermissions(n[USER_ROLE_ID])}error_handle(e)}))}}}},{key:"editRole",value:function(){var e,t,n=this;if(null!=this.role_id){var a=this.noteInput.getValue(),r=this.nameInput.getValue();if(!1!==r){var o=this.workspaceInput.getWorkSpace();""==o&&(o="/");var i=this.ramLimitInput.getValue(),l=this.cpuLimitInput.getValue(),s=this.hddLimitInput.getValue();if(!1!==i&&!1!==l&&!1!==s){var u=(h(t={},DATA_KEY,[h({},USER_ROLE_ID,this.role_id)]),h(t,DATA_EDITOR,(h(e={},USER_ROLE_NAME,r),h(e,USER_ROLE_WORKSPACE,o),h(e,USER_ROLE_NOTE,a),h(e,USER_ROLE_RAM,i),h(e,USER_ROLE_CPU,l),h(e,USER_ROLE_HDD,s),e)),t);this.table.editRow(u).then((function(e){if(e.result)return n.addPermissions(n.role_id);error_handle(e)}))}}}}},{key:"addPermissions",value:function(e){var t,n=this,a=[];for(var r in this.state.permissions)this.state.permissions[r]&&a.push(h({},USER_PER_NAME,r));return App.loading(!0),axios.request({url:"/store/public/admin/user_roles/addPermissions",method:"post",data:(t={},h(t,USER_ROLE_ID,e),h(t,"data",a),t)}).then((function(e){e=e.data,App.loading(!1),e.result?(n.modal("hide"),n.table.filter()):error_handle(e)})).catch((function(e){App.loading(!1),error_handle(e)}))}}])&&y(n.prototype,a),o&&y(n,o),t}(a.Component);v.contextType=TableContext;var L=v;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return(T="function"==typeof Symbol&&"symbol"===A(Symbol.iterator)?function(e){return A(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":A(e)})(e)}function N(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n,a,o,i,l,s,u,c,d,p,f,_,m,E;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(E=k(this,C(t).call(this,e))).user_roles_struct={},E.user_roles_struct[STRUCT_FILTERS]={},E.user_roles_struct[STRUCT_COLUMNS]=(U(u={},USER_ROLE_NAME,(U(n={},COL_NAME,lang(USER_ROLE_NAME)),U(n,COL_SORT,!0),n)),U(u,USER_ROLE_WORKSPACE,(U(a={},COL_NAME,lang(USER_ROLE_WORKSPACE)),U(a,COL_SORT,!1),U(a,COL_DECORATOR_IN,(function(e){return HtmlDecode(e)})),U(a,COL_STYLE,{whiteSpace:"nowrap"}),a)),U(u,USER_ROLE_CPU,(U(o={},COL_NAME,lang(USER_ROLE_CPU)),U(o,COL_SORT,!0),U(o,COL_STYLE,{textAlign:"center"}),U(o,COL_DECORATOR_IN,(function(e){return r.a.createElement("b",null,e,"%")})),o)),U(u,USER_ROLE_RAM,(U(i={},COL_NAME,lang(USER_ROLE_RAM)),U(i,COL_SORT,!0),U(i,COL_STYLE,{textAlign:"center"}),U(i,COL_DECORATOR_IN,(function(e){return r.a.createElement("b",null,e,"%")})),i)),U(u,USER_ROLE_HDD,(U(l={},COL_NAME,lang(USER_ROLE_HDD)),U(l,COL_SORT,!0),U(l,COL_STYLE,{textAlign:"center"}),U(l,COL_DECORATOR_IN,(function(e){return r.a.createElement("b",null,e,"MB")})),l)),U(u,USER_ROLE_NOTE,(U(s={},COL_NAME,lang(USER_ROLE_NOTE)),U(s,COL_SORT,!1),s)),u),E.user_roles_struct[STRUCT_FILTERS]=U({},USER_ROLE_NAME,(U(c={},FILTER_NAME,lang(USER_ROLE_NAME)),U(c,FILTER_TYPE,"text"),c)),E.user_roles_struct[STRUCT_EDIT]=(U(_={},USER_ROLE_NAME,(U(d={},EDIT_NAME,lang(USER_ROLE_NAME)),U(d,EDIT_TYPE,"text"),d)),U(_,USER_ROLE_WORKSPACE,(U(p={},EDIT_NAME,lang(USER_ROLE_WORKSPACE)),U(p,EDIT_TYPE,"textarea"),p)),U(_,USER_ROLE_NOTE,(U(f={},EDIT_NAME,lang(USER_ROLE_NOTE)),U(f,EDIT_TYPE,"textarea"),f)),_),E.user_roles_struct[STRUCT_ROWS]=U({},ROW_FUNCS,(function(e){return[r.a.createElement("div",{key:1,className:"button box_flex",title:"Edit Row",onClick:function(){E.editRoleModal.modal(),E.editRoleModal.setRoleID(e[USER_ROLE_ID])}},r.a.createElement("i",{className:"fa fa-edit"}))]})),E.user_roles_struct[STRUCT_TABLE]=(U(m={},DATA_TABLE_ID,USER_ROLES_TABLE),U(m,DATA_FILTERS,{}),U(m,DATA_HIDDEN_COL,{}),U(m,DATA_PERMIT_COL,E.permissionUser_roles()),U(m,DATA_KEY,[USER_ROLE_ID]),U(m,DATA_SORT,U({},USER_ROLE_ID,"desc")),U(m,FLAG_FILTER_CHANGE,!0),U(m,FLAG_MULTI_SORT,!1),U(m,FLAG_RESIZABLE,!0),U(m,FLAG_SELECT_ROWS,!0),U(m,FLAG_SETTING_ROWS,!0),U(m,FLAG_EXPAND_ROWS,!1),U(m,FLAG_HEAD_ROW,!0),U(m,LINK_FILTER,"/store/public/admin/user_roles/filter"),U(m,LINK_EDIT,"/store/public/admin/user_roles/edit"),U(m,LINK_ADD,"/store/public/admin/user_roles/add"),U(m,LINK_DELETE,"/store/public/admin/user_roles/drop"),U(m,LINK_UPLOAD,"/store/public/admin/user_roles/uploader"),m),E}var n,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(a=[{key:"permissionUser_roles",value:function(){return Object.assign.apply(Object,N(Object.keys(this.user_roles_struct[STRUCT_COLUMNS]).map((function(e,t){return U({},e,"Read")}))).concat(N(Object.keys(this.user_roles_struct[STRUCT_EDIT]).map((function(e,t){return U({},e,"Write")})))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"box_padding"},r.a.createElement(o.a,{table:this.user_roles_struct,autoload:!0},r.a.createElement(i.a,null),r.a.createElement(u.a,{left:r.a.createElement(c.a,null),right:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table_function"},r.a.createElement("div",{className:"button box_flex",title:"Add Row",onClick:function(){e.editRoleModal.modal(),e.editRoleModal.setRoleID(null)}},r.a.createElement("i",{className:"fa fa-plus-square"})," ",lang("Add"))),r.a.createElement(d.a,null),r.a.createElement(p.a,null),r.a.createElement(f.a,null),r.a.createElement(_.a,null))}),r.a.createElement(l.a,{className:"table table-bordered table-resizable"}),r.a.createElement(s.a,null),r.a.createElement(L,{ref:function(t){return e.editRoleModal=t}})))}}])&&I(n.prototype,a),m&&I(n,m),t}(a.Component);t.default=w},729:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(13);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,c(t).call(this,e))).state={files:[],folders:[],folder:n.props.folder,workspace:"",editing:"",editing_value:""},n.parent=n.props.parent,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(a=[{key:"setFolder",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&""!=e||(e=this.props.folder),this.setState({folder:e,editing:"",workspace:""},(function(){n&&t.loadFolder()}))}},{key:"setWorkSpace",value:function(e){var t=this;e||(e=""),this.setState({workspace:e,editing:""},(function(){t.loadFolder()}))}},{key:"getWorkSpace",value:function(){return this.state.workspace}},{key:"render",value:function(){var e=this,t=get(this.props.except,[]),n=this.state.workspace.split("/"),a=[];return n.map((function(e){""!=e&&a.push(e)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb",style:{margin:0,padding:"5px",position:"relative"}},r.a.createElement("li",{className:"breadcrumb-item button",onClick:function(){e.setWorkSpace("")}},r.a.createElement("i",{className:"fa fa-folder",style:{color:"#dfba49"}})," ",this.state.folder.replace(/.*\//,"")),a.map((function(t,n){var o="/"+a.slice(0,n+1).join("/");return r.a.createElement("li",{key:n,className:"breadcrumb-item button",onClick:function(){e.setWorkSpace(o)}},r.a.createElement("i",{className:"fa fa-folder",style:{color:"#dfba49"}})," ",t)})),r.a.createElement("div",{style:{position:"absolute",right:5,top:0,bottom:0,background:"inherit"},className:"box_flex"},r.a.createElement("i",{title:"Add New Folder",className:"fa fa-plus-circle button",onClick:function(){e.addNewFolder()}})))),r.a.createElement("div",{style:{paddingLeft:10,overflow:"auto",height:this.props.height?this.state.height:200}},this.state.folders.map((function(n,a){var o=n.split("/").pop();return r.a.createElement("div",{className:"folder_item",key:a,style:{display:t.includes(o)?"none":"block",position:"relative"}},r.a.createElement("i",{className:"fa fa-folder",style:{color:"#dfba49"}})," ",e.state.editing==o?r.a.createElement("input",{ref:function(t){return e.editingInput=t},type:"text",onBlur:function(){e.editFolder()},value:e.state.editing_value,onChange:function(t){e.setState({editing_value:t.target.value})}}):r.a.createElement("span",{className:"button",onClick:function(){e.setWorkSpace(e.state.workspace+"/"+o)}},o),r.a.createElement("div",{style:{position:"absolute",right:5,top:0,bottom:0,background:"inherit"},className:"box_flex folder_buttons"},r.a.createElement("i",{style:{padding:5},title:"Edit Folder",className:"fa fa-edit button",onClick:function(t){t.stopPropagation(),e.setState({editing:o,editing_value:o})}}),r.a.createElement("i",{style:{padding:5},title:"Delete Folder",className:"fa fa-close button",onClick:function(t){t.stopPropagation(),e.deleteFolder(o)}})))})),this.state.files.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("i",{className:"fa fa-file-text-o",style:{color:"gray"}})," ",e.split("/").pop())}))),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(o.a,{ref:function(t){return e.load=t},style:{position:"absolute"}}))),r.a.createElement("style",null,"\n                    .folder_item .folder_buttons{\n                        display: none;\n                    }\n                    .folder_item:hover .folder_buttons{\n                        display: flex;\n                    }\n\n                "))}},{key:"componentDidMount",value:function(){this.setWorkSpace("")}},{key:"loadFolder",value:function(){var e=this;if(this.props.link)return this.load.loading(!0),axios.request({url:this.props.link,method:"post",data:{folder:this.state.folder+this.state.workspace}}).then((function(t){t=t.data,e.load.loading(!1),t.result&&e.setState({folders:t.data.folders,files:t.data.files},(function(){e.editingInput&&e.editingInput.focus()}))})).catch((function(t){e.load.loading(!1),error_handle(t)}))}},{key:"addNewFolder",value:function(){for(var e=this,t="New Folder",n=1;void 0!==this.state.folders.find((function(e){return e.split("/").pop()==t}));)t="New Folder "+n,n++;var a=this.state.folder+this.state.workspace;return a=a.replace("/opt/unetlab/labs",""),App.loading(!0),axios.request({url:"/api/folders/add",method:"post",data:{path:a,name:t}}).then((function(n){n=n.data,App.loading(!1),"success"==n.status?(e.setState({editing:t,editing_value:t}),e.loadFolder()):error_handle(n)})).catch((function(e){App.loading(!1),error_handle(e)}))}},{key:"editFolder",value:function(){var e=this;if(this.state.editing!=this.state.editing_value){var t=this.state.folder+this.state.workspace+"/"+this.state.editing,n=this.state.folder+this.state.workspace+"/"+this.state.editing_value;return t=t.replace("/opt/unetlab/labs",""),n=n.replace("/opt/unetlab/labs",""),App.loading(!0),axios.request({url:"/api/folders/edit",method:"post",data:{path:t,new_path:n}}).then((function(t){t=t.data,App.loading(!1),"success"==t.status?e.setState({editing:"",editing_value:""},(function(){e.loadFolder()})):error_handle(t)})).catch((function(e){App.loading(!1),error_handle(e)}))}this.setState({editing:"",editing_value:""})}},{key:"deleteFolder",value:function(e){var t=this,n=this.state.folder+this.state.workspace+"/"+e;n=n.replace("/opt/unetlab/labs",""),makeQuestion("Do you want to Delete this Folder?","Yes","Cancel").then((function(e){if(e)return App.loading(!0),axios.request({url:"/api/folders/delete",method:"post",data:{path:n}}).then((function(e){e=e.data,App.loading(!1),"success"==e.status?t.setState({editing:"",editing_value:""},(function(){t.loadFolder()})):error_handle(e)})).catch((function(e){App.loading(!1),error_handle(e)}))}))}}])&&s(n.prototype,a),i&&s(n,i),t}(a.Component);t.a=p}}]);