(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{525:function(e,t,n){"use strict";var o=n(0),r=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=l(t).call(this,e))||"object"!==i(r)&&"function"!=typeof r?s(o):r).getSession=n.getSession.bind(s(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}},{key:"componentDidMount",value:function(){this.getSession(),this.intervalId=setInterval(this.getSession,17e3)}},{key:"componentWillUnmount",value:function(){this.intervalId&&clearInterval(this.intervalId)}},{key:"getSession",value:function(){var e=this;axios.request({url:"/store/public/admin/lab_sessions/getSession",method:"post"}).then((function(t){(t=t.data).result?e.props.callback&&e.props.callback(t.data):error_handle(t)})).catch((function(e){console.log(e),error_handle(e)}))}}])&&c(n.prototype,o),a&&c(n,a),t}(o.Component);t.a=m},533:function(e,t,n){"use strict";var o=n(0),r=n.n(o);n(600);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,s(t).call(this,e))).id=makeId(),n.state={workbook:n.props.workbook,showMenu:!1,page:0},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(o=[{key:"modal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";"hide"==e?$("#"+this.id).modal("hide"):$("#"+this.id).modal()}},{key:"setWorkbook",value:function(e){this.setState({workbook:e})}},{key:"drawMenu",value:function(){var e=this,t=[];return get(this.state.workbook.menu,[]).filter((function(e){return""==e.parent})).map((function(n,o){t.push(e.drawMenuItem(n,o))})),t}},{key:"drawMenuItem",value:function(e,t){var n=this,o="collapse"+makeId(),a=get(this.state.workbook.menu,[]).filter((function(t){return t.parent==e.id})),i=[];return a.map((function(e,t){i.push(n.drawMenuItem(e,t))})),r.a.createElement("div",{key:e.id,className:"button wb_menu_item ".concat(""==e.parent?"lv1":"")},r.a.createElement("div",{className:"box_flex","data-toggle":"collapse","data-target":"#".concat(o),"aria-expanded":"false",onClick:function(){n.setPage(e.page,(function(){n.scroll_menu(e.id)}))}},0==a.length?r.a.createElement(r.a.Fragment,null,"•"):r.a.createElement("i",{className:"fa icon"})," ",r.a.createElement("div",{title:e.title,className:"box_line"},e.title)),r.a.createElement("div",{id:o,className:"collapse",style:{paddingRight:7}},i))}},{key:"changePage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"up",t=this.state.page;if("up"==e)var n=t+1;else n=t-1;this.setPage(n)}},{key:"setPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=get(this.state.workbook.content,[]);e!=this.state.page?(e<0&&(e=0),e>=n.length&&(e=n.length-1),this.setState({page:e},(function(){t&&t()}))):t&&t()}},{key:"scroll_menu",value:function(e){try{var t=$("#".concat(this.id)),n=$("[menu_id='".concat(e,"']")).offset().top-t.offset().top;t.animate({scrollTop:t.scrollTop()+n},100,"swing")}catch(e){console.log(e)}}},{key:"render",value:function(){var e=this,t=get(this.state.workbook.content,[]),n=get(t[this.state.page],"");return r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,'\n                .question-menu{\n                    position: absolute;\n                    display: flex;\n                    left: 0px;\n                    top: 25px;\n                    bottom: 0px;\n                    z-index: 5;\n                }\n                .menu-body{\n                    display: inline-block;\n                    height: 100%;\n                    transition: all 0.3s ease-in-out 0s;\n                    overflow-x: hidden;\n                    background: rgb(253, 251, 247);\n                }\n                .menu-button{\n                    height: 100%;\n                    width: 23px;\n                    text-align: center;\n                    display: flex;\n                    background: #0066a9;\n                    padding: 0px;\n                    position: relative;\n                    overflow: inherit;\n                }\n\n                .menu-button-text{\n                    transform: rotate(90deg);\n                    color: white;\n                    font-weight: bold;\n                    position: absolute;\n                    top: 40px;\n                    left: -40px;\n                    width: 100px;\n                }\n                .wb-body {\n                    height:0px;\n                    overflow: auto;\n                    overflow-x: hidden;\n                    transition: all 0.3s ease-in-out 0s;\n                }\n\n                [aria-expanded=false] .icon::before{\n                    content: "\\f0da";\n                }\n                [aria-expanded=true] .icon::before{\n                    content: "\\f0d7";\n                }\n\n                .wb_menu_item{\n                    min-width: 200px;\n                    padding: 0px 12px;\n                    color: #03A9F4;\n                    font-size: 13px;\n                    margin: 2px;\n                }\n                .wb_menu_item.lv1{\n                    min-width: 200px;\n                    padding: 0px 12px;\n                    font-size: 14px;\n                    color: #333;\n                    margin: 2px;\n                }\n                \n                \n            '),r.a.createElement("div",{className:"question-menu",onMouseLeave:function(){setTimeout((function(){$(".modal-body .ck-content").css("width","auto")}),500),e.setState({showMenu:!1})},onMouseEnter:function(){$(".modal-body .ck-content").css("width",$(".modal-body .ck-content").width()),e.setState({showMenu:!0})}},r.a.createElement("div",{className:"menu-body",style:{width:this.state.showMenu?300:0}},r.a.createElement("div",{style:{padding:10},className:"menu-content"},r.a.createElement("label",null,"MENU"),this.drawMenu())),r.a.createElement("div",{className:"menu-button",onClick:function(){e.setState({showMenu:!e.state.showMenu})}},r.a.createElement("div",{className:"menu-button-text"},"CONTENTS ",r.a.createElement("i",{className:"fa fa-caret-up",style:{color:"orange",fontSize:18}})))),r.a.createElement("div",{id:this.id,className:"wb-body",style:{marginLeft:this.state.showMenu?323:23,flexGrow:1}},r.a.createElement("div",{className:"ck-content box_padding",dangerouslySetInnerHTML:{__html:output_secure(unescape(atob(n)))}})),r.a.createElement("div",{className:"box_flex",style:{padding:"2px 25px",borderTop:"solid thin darkgray"}},r.a.createElement("div",{className:"box_flex"},r.a.createElement("i",{className:"fa fa-angle-left button box_border box_shadow",style:{fontSize:16,padding:"0px 7px",borderRadius:2},onClick:function(){return e.changePage("down")}})," ",r.a.createElement("i",{className:"fa fa-angle-right button box_border box_shadow",style:{fontSize:16,padding:"0px 7px",borderRadius:2},onClick:function(){return e.changePage("up")}})),r.a.createElement("div",{className:"box_flex",style:{margin:"auto 0px auto auto",color:"#337ab7"}},r.a.createElement("input",{min:0,value:this.state.page+1,onChange:function(t){var n=Number(t.target.value)-1;e.setPage(n)},style:{width:20,textAlign:"center",color:"#337ab7",borderRadius:3,border:"none"}}),"/ ",r.a.createElement("b",null,t.length))))}}])&&c(n.prototype,o),a&&c(n,a),t}(o.Component);t.a=m},534:function(e,t,n){"use strict";var o=n(0),r=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,s(t).call(this,e))).id=makeId(),n.state={workbook:n.props.workbook},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(o=[{key:"setWorkbook",value:function(e){this.setState({workbook:e})}},{key:"b64toBlob",value:function(e,t){for(var n=atob(e),o=[],r=0;r<n.length;r+=512){for(var a=n.slice(r,r+512),i=new Array(a.length),c=0;c<a.length;c++)i[c]=a.charCodeAt(c);var l=new Uint8Array(i);o.push(l)}var s=new Blob(o,{type:t});return URL.createObjectURL(s)}},{key:"changeContent",value:function(e){if(""!=e){var t=/data:([^;]+);base64,(.*)/gm.exec(e);if(t)return this.b64toBlob(t[2],t[1])}return""}},{key:"render",value:function(){var e=get(this.state.workbook.content,""),t=get(this.state.workbook.name,"");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"pdf_preview",style:{flexGrow:1,position:"relative"}},""!=e?r.a.createElement(r.a.Fragment,null,r.a.createElement("iframe",{src:"/api/workbook/pdf/".concat(t),height:"100%",width:"100%"})):r.a.createElement("div",{className:"alert alert-warning",style:{margin:15}},lang("No Preview"))))}}])&&c(n.prototype,o),a&&c(n,a),t}(o.Component);t.a=m},600:function(e,t,n){var o=n(601);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(19)(o,r);o.locals&&(e.exports=o.locals)},601:function(e,t,n){(e.exports=n(18)(!1)).push([e.i,':root {\n    --ck-image-style-spacing: 1.5em;\n}\n.ck-content p {\n    color: unset;\n    margin: unset;\n    padding: unset;\n}\n.ck-content ul, .ck-content ol {\n    color: unset;\n    margin: unset;\n    list-style-type: unset;\n}\n/* ckeditor5-image/theme/image.css */\n.ck-content .image {\n    display: table;\n    clear: both;\n    text-align: center;\n    margin: 1em auto\n}\n/* ckeditor5-image/theme/image.css */\n.ck-content .image > img {\n    display: block;\n    margin: 0 auto;\n    max-width: 100%;\n    min-width: 50px;\n}\n/* ckeditor5-image/theme/imagecaption.css */\n.ck-content .image > figcaption {\n    display: table-caption;\n    caption-side: bottom;\n    word-break: break-word;\n    color: hsl(0, 0%, 20%);\n    background-color: hsl(0, 0%, 97%);\n    padding: .6em;\n    font-size: .75em;\n    outline-offset: -1px;\n}\n/* ckeditor5-image/theme/imageresize.css */\n.ck-content .image.image_resized {\n    max-width: 100%;\n    display: block;\n    box-sizing: border-box\n}\n/* ckeditor5-image/theme/imageresize.css */\n.ck-content .image.image_resized img {\n    width: 100%;\n}\n/* ckeditor5-image/theme/imageresize.css */\n.ck-content .image.image_resized > figcaption {\n    display: block;\n}\n/* ckeditor5-media-embed/theme/mediaembed.css */\n.ck-content .media {\n    clear: both;\n    margin: 1em 0;\n    display: block;\n    min-width: 15em;\n}\n/* ckeditor5-table/theme/table.css */\n.ck-content .table {\n    margin: 1em auto;\n    display: table\n}\n/* ckeditor5-table/theme/table.css */\n.ck-content .table table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    border: 1px double hsl(0, 0%, 70%)\n}\n/* ckeditor5-table/theme/table.css */\n.ck-content .table table td,\n.ck-content .table table th {\n    min-width: 2em;\n    padding: .4em;\n    border-color: hsl(0, 0%, 85%);\n}\n/* ckeditor5-table/theme/table.css */\n.ck-content .table table td,\n.ck-content .table table th {\n    min-width: 2em;\n    padding: .4em;\n    border-color: hsl(0, 0%, 85%);\n}\n/* ckeditor5-table/theme/table.css */\n.ck-content .table table th {\n    font-weight: bold;\n    background: hsl(0, 0%, 98%);\n}\n/* ckeditor5-basic-styles/theme/code.css */\n.ck-content code {\n    background-color: hsla(0, 0%, 78%, 0.3);\n    padding: .15em;\n    border-radius: 2px;\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-side:not(.image_resized), .ck-content .image-style-align-left:not(.image_resized), .ck-content .image-style-align-center:not(.image_resized), .ck-content .image-style-align-right:not(.image_resized) {\n    max-width: 50%;\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-side:not(.image_resized), .ck-content .image-style-align-left:not(.image_resized), .ck-content .image-style-align-center:not(.image_resized), .ck-content .image-style-align-right:not(.image_resized) {\n    max-width: 50%;\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-side:not(.image_resized), .ck-content .image-style-align-left:not(.image_resized), .ck-content .image-style-align-center:not(.image_resized), .ck-content .image-style-align-right:not(.image_resized) {\n    max-width: 50%;\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-side:not(.image_resized), .ck-content .image-style-align-left:not(.image_resized), .ck-content .image-style-align-center:not(.image_resized), .ck-content .image-style-align-right:not(.image_resized) {\n    max-width: 50%;\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-side {\n    float: right;\n    margin-left: var(--ck-image-style-spacing);\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-align-left {\n    float: left;\n    margin-right: var(--ck-image-style-spacing);\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-align-center {\n    margin-left: auto;\n    margin-right: auto;\n}\n/* ckeditor5-image/theme/imagestyle.css */\n.ck-content .image-style-align-right {\n    float: right;\n    margin-left: var(--ck-image-style-spacing);\n}\n/* ckeditor5-block-quote/theme/blockquote.css */\n.ck-content blockquote {\n    overflow: hidden;\n    padding-right: 1.5em;\n    padding-left: 1.5em;\n    margin-left: 0;\n    margin-right: 0;\n    font-style: italic;\n    border-left: solid 5px hsl(0, 0%, 80%);\n}\n/* ckeditor5-block-quote/theme/blockquote.css */\n.ck-content[dir="rtl"] blockquote {\n    border-left: 0;\n    border-right: solid 5px hsl(0, 0%, 80%);\n}\n.ck-content table {\n\ttd, th {\n\t\tborder: 1px solid transparent;\n\t}\n\t\n}\n\n.ck-content .button {\n    cursor: pointer;\n    align-items: center;\n    margin: 0px 5px;\n}',""])},618:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=(n(732),n(533)),i=n(534),c=n(525);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":l(e)})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,f(t).call(this,e))).state={workbook:{}},n.wbName=get(App.parsed.name,null),n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=get(this.state.workbook.type,"pdf"),t=get(this.state.workbook.name,"");return r.a.createElement("div",{className:"d-flex",style:{flexGrow:1,flexDirection:"column",height:"100%"}},r.a.createElement("style",null,"\n\t\t\t\t\t.menu{\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t}\n\t\t\t\t\t.main{\n\t\t\t\t\t\tmargin-top: 0px;\n\t\t\t\t\t\tpadding-top: 0px;\n\t\t\t\t\t}\n\t\t\t\t\t.wb-header {\n\t\t\t\t\t\tbackground-color: #263339 !important;\n\t\t\t\t\t\tpadding: 5px;\n\t\t\t\t\t}\n\t\t\t\t\t.wb-title {\n\t\t\t\t\t\tcolor: #a6b3b9 !important;\n\t\t\t\t\t}\n\t\t\t\t"),r.a.createElement("div",{className:"wb-header",style:{height:25}},r.a.createElement("h4",{className:"wb-title",style:{fontSize:"medium"}},t)),"html"==e?r.a.createElement(a.a,{key:t,workbook:this.state.workbook}):r.a.createElement(i.a,{key:t,workbook:this.state.workbook}),r.a.createElement(c.a,{callback:function(e){null!=e&&""!=e||window.close()}}))}},{key:"componentDidMount",value:function(){this.loadWorkbook(),document.title=this.wbName,setTimeout((function(){return App.Layout.closeMenu()}),3e3)}},{key:"loadWorkbook",value:function(){var e=this;if(this.wbName)return App.loading(!0,"Loading..."),axios.request({url:"/api/labs/session/workbook",method:"get",params:{name:this.wbName}}).then((function(t){if(App.loading(!1,"Loading..."),"success"==(t=t.data).status){var n=t.message;e.setState({workbook:n})}else error_handle(t)})).catch((function(e){console.log(e),App.loading(!1,"Loading..."),error_handle(e)}))}}])&&u(n.prototype,o),l&&u(n,l),t}(o.Component);t.default=p},732:function(e,t,n){var o=n(733);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(19)(o,r);o.locals&&(e.exports=o.locals)},733:function(e,t,n){(e.exports=n(18)(!1)).push([e.i,".main {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}",""])}}]);