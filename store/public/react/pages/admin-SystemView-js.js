(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{596:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n;return i(this,t),(n=u(this,p(t).call(this,e))).state={files:[],folders:[],folder:n.props.folder,isset:!1,loading:!1,expand:!1},n.parent=n.props.parent,n}return d(t,e),c(t,[{key:"render",value:function(){var e=this,n=get(this.props.except,[]),r=this.props.folder.split("/").pop(),a=get(this.props.selected,[]);return o.a.createElement("div",{style:{display:n.includes(r)?"none":"block"}},o.a.createElement("div",{onClick:function(){e.onClickHandle()},className:"box_flex folder ".concat(a.includes(this.props.folder)?"selected":""),style:{width:"100%",cursor:"pointer"}},o.a.createElement("i",{className:"fa fa-folder",style:{color:"#FFC107"}})," ",this.props.folder.split("/").pop()," ",a.includes(this.props.folder)?o.a.createElement("i",{className:"fa fa-check-circle",style:{color:"#00d100"}}):"",this.state.loading?o.a.createElement("i",{style:{margin:"auto 5px auto auto"},className:"fa fa-circle-o-notch fa-spin"}):""),o.a.createElement("div",{style:{paddingLeft:10,display:this.state.expand?"block":"none"}},this.state.files.map((function(t,n){return o.a.createElement(y,{key:n,parent:e,file:t,selected:a})})),this.state.folders.map((function(r,l){return o.a.createElement(t,{except:n,key:l,link:e.props.link,parent:e,folder:r,selected:a})}))))}},{key:"componentDidMount",value:function(){this.props.expand&&this.loadFolder()}},{key:"onClickHandle",value:function(){this.state.isset?this.setState({expand:!this.state.expand}):this.loadFolder(),this.onSelectFolder(this.props.folder)}},{key:"onSelectFolder",value:function(e){if(this.props.onSelectFolder)this.props.onSelectFolder(e);else{if(!this.props.parent)return;if(!this.props.parent.onSelectFolder)return;this.props.parent.onSelectFolder(e)}}},{key:"onSelect",value:function(e){if(this.props.onSelect)this.props.onSelect(e);else{if(!this.props.parent)return;if(!this.props.parent.onSelect)return;this.props.parent.onSelect(e)}}},{key:"loadFolder",value:function(){var e=this;if(this.props.link)return this.setState({loading:!0}),axios.request({url:this.props.link,method:"post",data:{folder:this.props.folder}}).then((function(t){(t=t.data).result?e.setState({loading:!1,expand:!0,isset:!0,folders:t.data.folders,files:t.data.files}):e.setState({loading:!1,expand:!0})})).catch((function(e){this.setState({loading:!1}),error_handle(e)}))}}]),t}(r.Component);t.a=m;var y=function(e){function t(e){var n;return i(this,t),(n=u(this,p(t).call(this,e))).state={file:n.props.file},n.parent=n.props.parent,n}return d(t,e),c(t,[{key:"render",value:function(){var e=this,t=get(this.props.selected,[]);return o.a.createElement("div",{onClick:function(){e.onClickHandle()},className:"box_flex file ".concat(t.includes(this.props.file)?"selected":""),style:{width:"100%",cursor:"pointer"}},o.a.createElement("i",{className:"fa fa-file-text-o",style:{color:"gray"}})," ",this.props.file.split("/").pop()," ",t.includes(this.props.file)?o.a.createElement("i",{className:"fa fa-check-circle",style:{color:"#00d100"}}):"")}},{key:"onClickHandle",value:function(){this.props.parent&&this.props.parent.onSelect&&this.props.parent.onSelect(this.props.file)}}]),t}(r.Component)},619:function(e,t,n){"use strict";n.r(t),function(e){var r=n(0),o=n.n(r),a=(n(726),n(734));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":l(e)})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(t){function n(e){var t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=p(this,d(n).call(this,e))).state=(c(t={proxy_ip:"",proxy_port:"",proxy_username:"",proxy_password:""},CTRL_DOCKER_WIRESHARK,"0"),c(t,CTRL_DEFAULT_CONSOLE,""),c(t,CTRL_DEFAULT_LANG,""),t),r}var r,l,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,t),r=n,(l=[{key:"render",value:function(){var t=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"box_padding container"},o.a.createElement("div",{className:"box_shadow box_padding"},o.a.createElement("strong",null,"Controller"),o.a.createElement("hr",null),o.a.createElement("div",{className:"box_flex",style:{justifyContent:"space-between",flexWrap:"wrap",fontWeight:"bold",marginBottom:20}},o.a.createElement("button",{style:{width:150,margin:5},className:"button btn btn-primary",onClick:function(){return t.stopAllNodes()}},lang("Stop All Nodes")),o.a.createElement("button",{style:{width:150,margin:5},className:"button btn btn-primary",onClick:function(){return t.fixpermission()}},lang("Fix Permission")),o.a.createElement("button",{style:{width:150,margin:5},className:"button btn btn-danger",onClick:function(){return t.reboot()}},lang("Reboot")),o.a.createElement("button",{style:{width:150,margin:5},className:"button btn btn-danger",onClick:function(){return t.shutdown()}},lang("Shutdown"))),o.a.createElement("div",null,o.a.createElement("div",{className:"box_flex",style:{margin:"15px 0px"}},o.a.createElement("div",{style:{fontWeight:"bold"}},lang("Docker Wireshark Only")),o.a.createElement("div",{style:{width:30}},":"),o.a.createElement("i",{style:{color:"1"==this.state[CTRL_DOCKER_WIRESHARK]?"#4caf50":"red",fontSize:24},className:"button fa ".concat("1"==this.state[CTRL_DOCKER_WIRESHARK]?"fa-toggle-on":"fa-toggle-off"),onClick:function(){var e="0"==t.state[CTRL_DOCKER_WIRESHARK]?"1":"0";t.updateData(c({},CTRL_DOCKER_WIRESHARK,e))}}))),o.a.createElement("div",null,o.a.createElement("div",{style:{margin:"15px 0px"}},o.a.createElement("div",{style:{fontWeight:"bold",marginBottom:10}},lang("Default Console")),o.a.createElement("div",{style:{paddingLeft:15}},o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("input",{type:"radio",checked:""==this.state[CTRL_DEFAULT_CONSOLE],onChange:function(e){return t.updateData(c({},CTRL_DEFAULT_CONSOLE,""))}}),"  ",lang("Auto"))),o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("input",{type:"radio",checked:"native"==this.state[CTRL_DEFAULT_CONSOLE],onChange:function(e){return t.updateData(c({},CTRL_DEFAULT_CONSOLE,"native"))}}),"  ",lang("Native Console"))),o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("input",{type:"radio",checked:"html"==this.state[CTRL_DEFAULT_CONSOLE],onChange:function(e){return t.updateData(c({},CTRL_DEFAULT_CONSOLE,"html"))}}),"  ",lang("HTML Console")))))),o.a.createElement("div",null,o.a.createElement("div",{style:{margin:"15px 0px"},className:"box_flex"},o.a.createElement("div",{style:{fontWeight:"bold"}},lang("Default Language")),o.a.createElement("div",{style:{paddingLeft:15}},o.a.createElement("select",{className:"input",value:this.state[CTRL_DEFAULT_LANG],onChange:function(e){t.updateData(c({},CTRL_DEFAULT_LANG,e.target.value)).then((function(e){return window.location.reload()}))}},o.a.createElement("option",{value:""}),get(e.LANG.packages,[]).map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))))),o.a.createElement("div",null,o.a.createElement("div",{style:{margin:"15px 0px"}},o.a.createElement("div",{style:{fontWeight:"bold"}},lang("Services")),o.a.createElement("div",{className:"box_flex",style:{justifyContent:"space-between",flexWrap:"wrap",fontWeight:"bold",marginBottom:20}},o.a.createElement("button",{style:{width:200,margin:5},className:"button btn btn-primary",onClick:function(){return t.restartWebService()}},lang("Restart Web Service")),o.a.createElement("button",{style:{width:200,margin:5},className:"button btn btn-primary",onClick:function(){return t.restartDbService()}},lang("Restart Database Service")),o.a.createElement("button",{style:{width:200,margin:5},className:"button btn btn-primary",onClick:function(){return t.restartHTMLConsoleService()}},lang("Restart HTML Console")),o.a.createElement("button",{style:{width:200,margin:5},className:"button btn btn-primary",onClick:function(){return t.restartDockerService()}},lang("Restart Docker Service")),o.a.createElement("button",{style:{width:200,margin:5},className:"button btn btn-primary",onClick:function(){return t.restartPnetNatService()}},lang("Restart NAT Cloud")))))),o.a.createElement("br",null),o.a.createElement(a.a,null),o.a.createElement("br",null),o.a.createElement("div",{className:"box_shadow box_padding"},o.a.createElement("strong",null,lang("Proxy configuration")),o.a.createElement("hr",null),o.a.createElement("div",{className:"box_flex",style:{justifyContent:"space-between",flexWrap:"wrap",fontWeight:"bold"}},o.a.createElement("div",{className:"box_flex",style:{margin:5}},lang("IP Address")," ",o.a.createElement("span",{style:{fontWeight:"normal",color:"red"}},"(*)"),": ",o.a.createElement("input",{className:"input",type:"text",value:this.state.proxy_ip,onChange:function(e){return t.setState({proxy_ip:e.target.value})}})),o.a.createElement("div",{className:"box_flex",style:{margin:5}},lang("Port")," ",o.a.createElement("span",{style:{fontWeight:"normal",color:"red"}},"(*)"),": ",o.a.createElement("input",{className:"input",type:"number",value:this.state.proxy_port,onChange:function(e){return t.setState({proxy_port:e.target.value})}})),o.a.createElement("div",{className:"box_flex",style:{margin:5}},lang("User Name"),": ",o.a.createElement("input",{className:"input",type:"text",value:this.state.proxy_username,onChange:function(e){return t.setState({proxy_username:e.target.value})}})),o.a.createElement("div",{className:"box_flex",style:{margin:5}},lang("Password"),": ",o.a.createElement("input",{className:"input",type:"password",value:this.state.proxy_password,onChange:function(e){return t.setState({proxy_password:e.target.value})}}))),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("div",{className:"button btn btn-primary",onClick:function(){return t.setProxyData()}},lang("Save"))))))}},{key:"componentDidMount",value:function(){this.getProxyData(),this.getData()}},{key:"getData",value:function(){var e=this;return axios.request({url:"/store/public/admin/system/get",method:"post"}).then((function(t){var n;if(!(t=t.data).result)return error_handle(t),!1;var r=t.data;e.setState((c(n={},CTRL_DOCKER_WIRESHARK,get(r[CTRL_DOCKER_WIRESHARK],"0")),c(n,CTRL_DEFAULT_CONSOLE,get(r[CTRL_DEFAULT_CONSOLE],"")),c(n,CTRL_DEFAULT_LANG,get(r[CTRL_DEFAULT_LANG],"")),n))})).catch((function(e){return console.log(e),error_handle(e),!1}))}},{key:"updateData",value:function(e){var t=this;return App.loading(!0),axios.request({url:"/store/public/admin/system/update",method:"post",data:e}).then((function(e){if(App.loading(!1),!(e=e.data).result)return error_handle(e),!1;t.getData()})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}},{key:"getProxyData",value:function(){var e=this;return axios.request({url:"/store/public/admin/system/getProxy",method:"post"}).then((function(t){if(!(t=t.data).result)return error_handle(t),!1;var n=t.data;null==n&&(n={});var r={};r.proxy_ip=isset(n.proxy_ip)?n.proxy_ip:"",r.proxy_port=isset(n.proxy_port)?n.proxy_port:"",r.proxy_username=isset(n.proxy_username)?n.proxy_username:"",r.proxy_password=isset(n.proxy_password)?n.proxy_password:"",e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))})).catch((function(e){return console.log(e),error_handle(e),!1}))}},{key:"setProxyData",value:function(){var e=this;return App.loading(!0),axios.request({url:"/store/public/admin/system/setProxy",method:"post",data:{proxy_ip:this.state.proxy_ip,proxy_port:this.state.proxy_port,proxy_username:this.state.proxy_username,proxy_password:this.state.proxy_password}}).then((function(t){if(App.loading(!1),!(t=t.data).result)return error_handle(t),!1;e.getProxyData()})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}},{key:"shutdown",value:function(){makeQuestion("Do you want to Shutdown?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/shutdown",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?location.reload():(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}))}},{key:"reboot",value:function(){makeQuestion("Do you want to Reboot?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/reboot",method:"post"}).then((function(e){(e=e.data).result?setInterval((function(){location.reload()}),6e4):(App.loading(!1),console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}))}},{key:"fixpermission",value:function(){return App.loading(!0),axios.request({url:"/store/public/admin/system/fixPermission",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?showLog("Fixpermissions successfully","success"):(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}},{key:"stopAllNodes",value:function(){makeQuestion("Do you want to Stop all Nodes?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/stopAllNodes",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?showLog("Stop all Nodes successfully","success"):(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}))}},{key:"restartWebService",value:function(){makeQuestion("Do you want to restart Web Service?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/restartWebService",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?showLog("Restart Web Service successfully","success"):(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),window.location.reload(),!1}))}))}},{key:"restartDbService",value:function(){makeQuestion("Do you want to restart Database Service?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/restartDbService",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?showLog("Restart Database Service successfully","success"):(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}))}},{key:"restartHTMLConsoleService",value:function(){makeQuestion("Do you want to restart HTML Console Service?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/restartHTMLConsoleService",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?showLog("Restart HTML Console Service successfully","success"):(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}))}},{key:"restartDockerService",value:function(){makeQuestion("Do you want to restart Docker Service?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/restartDockerService",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?showLog("Restart Docker Service successfully","success"):(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}))}},{key:"restartPnetNatService",value:function(){makeQuestion("Do you want to restart Cloud NAT Service?","Yes","No").then((function(e){if(e)return App.loading(!0),axios.request({url:"/store/public/admin/system/restartPnetNatService",method:"post"}).then((function(e){App.loading(!1),(e=e.data).result?showLog("Restart Cloud NAT Service successfully","success"):(console.log(error),error_handle(error))})).catch((function(e){return App.loading(!1),console.log(e),error_handle(e),!1}))}))}}])&&u(r.prototype,l),i&&u(r,i),n}(r.Component);t.default=m}.call(this,n(1))},726:function(e,t,n){var r=n(727);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(19)(r,o);r.locals&&(e.exports=r.locals)},727:function(e,t,n){(e.exports=n(18)(!1)).push([e.i,".lab_item_image {\n  border: solid thin darkgray;\n  padding: 0px;\n  height: 150px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 5px;\n  overflow: hidden;\n}\n\n.lab_item_name {\n  margin-bottom: 5px;\n  color: #17a2b8;\n}\n\n.lab_item_image {\n  position: relative;\n}\n.lab_item_image img {\n  width: 100%;\n}\n.lab_item_image .cover {\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.3);\n  display: none;\n}\n.lab_item_image .cover div {\n  border: solid thin rgba(255, 255, 255, 0.5);\n  border-radius: 5px;\n  padding: 7px;\n  color: white;\n  background: rgba(255, 255, 255, 0.1);\n}\n.lab_item_image:hover .cover {\n  display: flex;\n}\n\n.lab_item {\n  padding: 7px;\n  color: #666;\n  display: flex;\n}\n\n.loadmore.button {\n  padding: 5px;\n  background: rgba(13, 39, 77, 0.1);\n  margin: 15px;\n  border-radius: 10px;\n  color: #ffffff;\n  font-weight: bold;\n  width: 50%;\n  min-width: 200px;\n  text-align: center;\n}\n\n@media only screen and (min-width: 768px) {\n  .lab_item {\n    width: 12.5%;\n    max-width: 250px;\n    min-width: 200px;\n  }\n\n  .lab_frame {\n    margin-left: 160px;\n  }\n}\n@media only screen and (max-width: 768px) {\n  .lab_item {\n    width: 50%;\n  }\n\n  .lab_frame {\n    margin-left: 0px;\n  }\n\n  .lab_control {\n    display: none;\n  }\n}",""])},734:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=(n(13),n(596));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){return(s="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":l(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,d(t).call(this,e))).id=makeId(),r.state={shared:[],permissions:(n={},c(n,USER_PER_DEL_FOLDER,!1),c(n,USER_PER_ADD_FOLDER,!1),c(n,USER_PER_EDIT_FOLDER,!1),c(n,USER_PER_DEL_LAB,!1),c(n,USER_PER_ADD_LAB,!1),c(n,USER_PER_IMPORT_LAB,!1),c(n,USER_PER_EXPORT_LAB,!1),c(n,USER_PER_MOVE_LAB,!1),c(n,USER_PER_CLONE_LAB,!1),c(n,USER_PER_JOIN_LAB,!1),c(n,USER_PER_OPEN_LAB,!1),c(n,USER_PER_RENAME_LAB,!1),n)},r}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"box_shadow box_padding"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("strong",null,lang("Share Folders")),o.a.createElement("p",null,"Choose folders to share with all users"),o.a.createElement("div",null,o.a.createElement("div",{className:"box_border",style:{padding:5,borderRadius:5}},o.a.createElement("div",null,o.a.createElement("strong",null,lang("Selected Folders"),":")),o.a.createElement("style",null,"\n                            .file_selected:hover {\n                                background: #eee;\n                            }\n                           \n                        "),this.state.shared.map((function(t){return o.a.createElement("div",{key:t,className:"box_flex file_selected",style:{padding:5}},o.a.createElement("i",{className:"fa fa-share-alt fa-border",style:{color:"#00BCD4"}})," ",t," ",o.a.createElement("i",{className:"fa fa-close button",style:{marginLeft:"auto"},onClick:function(){var n=e.state.shared,r=n.findIndex((function(e){return e==t}));null!=r&&(n.splice(r,1),e.setState({shared:n}))}}))}))),o.a.createElement(a.a,{expand:!0,link:"/store/public/admin/default/folder",folder:"/opt/unetlab/labs",onSelectFolder:function(t){var n=[];e.state.shared.map((function(e){0!=(t+"/").indexOf(e+"/")&&0!=(e+"/").indexOf(t+"/")&&n.push(e)})),n.push(t),e.setState({shared:n})},selected:this.state.shared}))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("strong",null,lang("Share Folders permissions")),Object.keys(this.state.permissions).map((function(t){return o.a.createElement("div",{key:t},o.a.createElement("label",{className:"box_flex"},o.a.createElement("input",{style:{margin:"5px 10px"},type:"checkbox",checked:e.state.permissions[t],onChange:function(n){var r=e.state.permissions;r[t]=n.target.checked,e.setState({permissions:r})}}),lang(t)))})))),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("div",{className:"button btn btn-primary",onClick:function(){return e.shareFolder()}},lang("Save")))))}},{key:"shareFolder",value:function(){var e,t=this;App.loading(!0),axios.request({url:"/store/public/admin/system/update",method:"post",data:(e={},c(e,CTRL_SHARED,this.state.shared),c(e,CTRL_SHARED_PERMISSION,this.state.permissions),e)}).then((function(e){e=e.data,App.loading(!1),e.result?t.getShareFolder():error_handle(e)})).catch((function(e){App.loading(!1),console.log(e),error_handle(e)}))}},{key:"getShareFolder",value:function(){var e=this;axios.request({url:"/store/public/admin/system/getShareFolder",method:"post"}).then((function(t){if((t=t.data).result){var n=t.data,r={};if(isset(n[CTRL_SHARED])&&(r.shared=n[CTRL_SHARED]),"object"==s(n[CTRL_SHARED_PERMISSION]))for(var o in r.permissions={},e.state.permissions)isset(n[CTRL_SHARED_PERMISSION][o])?r.permissions[o]=n[CTRL_SHARED_PERMISSION][o]:r.permissions[o]=!1;e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}else error_handle(t)})).catch((function(t){console.log(t),error_handle(t),e.clearProcess()}))}},{key:"componentDidMount",value:function(){this.getShareFolder()}}])&&u(n.prototype,r),l&&u(n,l),t}(r.Component);t.a=m}}]);